<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kkr.Tattoo</title>
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css2?family=Slabo+27px&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>

<body>

    <div id="intro-overlay">
        <div class="logo-card">
            <div class="logo-card-img-container">
                <img src="Imagenes/Logo.png" alt="Logo KKR.TATTO">
            </div>
        </div>
    </div>


    <div id="page-content" class="page-blurred">

        <header class="topbar">
            <div class="logo">KKR.TATTO </div>
            <nav>
                <ul class="menu-top">
                    <li><a href="#">Inicio</a></li>
                    <li><a href="#horario">Horario</a></li>

                    <li><a href="#piezas">Piezas</a></li>
                    <li><a href="#">Socios</a></li>
                    <li><a href="#">Contacto</a></li>

                    <li class="insta">
                        <a href="https://www.instagram.com/kkr.tattoo/" target="_blank">
                            <i class="fa-brands fa-instagram"></i> kkr.tattoo
                        </a>
                    </li>
                    <li class="tiktok">
                        <a href="https://www.tiktok.com/@kkrtattoo" target="_blank">
                            <i class="fa-brands fa-tiktok"></i> kkrtattoo
                        </a>
                    </li>
                </ul>
            </nav>
        </header>

        <main class="content">
            <div class="Juan">
                <img src="Imagenes/Juan.jpg" alt="Kkr.Tattoo">

                <div class="info-card">
                    <h2>Juan Gutierrez</h2>
                    <p class="rol">Artista del tatuaje</p>
                    <p class="estilo">Especialista en <strong>Surrealismo</strong> y <strong>Realismo</strong>.</p>
                    <p class="bio">Con más de 8 años de experiencia, fusiona técnica y creatividad para crear piezas
                        únicas.
                    </p>
                    <strong>Estudio de tatuajes en Fernan Nuñez</strong>
                    <p>Calle: Juan Carlos I 53 (LOCAL) Fernán Núñez, Córdoba</p>

                    <div id="intro-logo" class="logo-card">
                        <div class="logo-card-img-container">
                            <img class="imagendiv" src="Imagenes/Logo.png" alt="Logo KKR.TATTO">
                        </div>
                    </div>


                </div>

            </div>

            <div id="horario" class="div2">
                <p class="horarioapertura">Horarios Apertura del Estudio</p>

                <div class="horarios">
                    <table class="horario-horizontal">
                        <thead>
                            <tr>
                                <th>Lunes</th>
                                <th>Martes</th>
                                <th>Miércoles</th>
                                <th>Jueves</th>
                                <th>Viernes</th>
                                <th>Sábado</th>
                                <th>Domingo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mañanas: 09:00 - 14:00<br>Tardes: 16:00 - 21:00</td>
                                <td class="cerrado">Cerrado</td>
                                <td>Mañanas: 09:00 - 14:00<br>Tardes: 16:00 - 21:00</td>
                                <td class="cerrado">Cerrado</td>
                                <td>Mañanas: 09:00 - 14:00<br>Tardes: 16:00 - 21:00</td>
                                <td class="cerrado">Cerrado</td>
                                <td class="cerrado">Cerrado</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="piezas" class="div3">
                <div class="album-card" id="Album1">
                    <div class="carousel-container">
                        <div class="card-default-view">
                            <img src="Imagenes/Album1/Imagen1Album1.jpg" alt="Imagen principal del Album 1">
                        </div>
                        <div class="album-carousel">
                            <div class="carousel-images">
                                <img src="Imagenes/Album1/Imagen1Album1.jpg" alt="Imagen 1 del Album 1">
                                <img src="Imagenes/Album1/Imagen2Album2.jpg" alt="Imagen 2 del Album 1">
                            </div>
                            <button class="prev-btn">❮</button>
                            <button class="next-btn">❯</button>
                        </div>
                    </div>
                </div>

                <div class="album-card" id="Album2">
                    <div class="carousel-container">
                        <div class="card-default-view">
                            <img src="Imagenes/Album2/Imagen1Album2.jpg" alt="Imagen principal del Album 2">
                        </div>
                        <div class="album-carousel">
                            <div class="carousel-images">
                                <img src="Imagenes/Album2/Imagen1Album2.jpg" alt="Imagen 1 del Album 2">
                                <img src="Imagenes/Album2/Imagen2Album2.jpg" alt="Imagen 2 del Album 2">
                            </div>
                            <button class="prev-btn">❮</button>
                            <button class="next-btn">❯</button>
                        </div>
                    </div>
                </div>

                <div class="album-card" id="Album3">
                    <div class="carousel-container">
                        <div class="card-default-view">
                            <img src="Imagenes/Album3/Imagen1Album3.jpg" alt="Imagen principal del Album 3">
                        </div>
                        <div class="album-carousel">
                            <div class="carousel-images">
                                <img src="Imagenes/Album3/Imagen1Album3.jpg" alt="Imagen 1 del Album 3">
                                <img src="Imagenes/Album3/Imagen2Album3.jpg" alt="Imagen 2 del Album 3">
                            </div>
                            <button class="prev-btn">❮</button>
                            <button class="next-btn">❯</button>
                        </div>
                    </div>
                </div>

                <div class="album-card" id="Album4">
                    <div class="carousel-container">
                        <div class="card-default-view">
                            <img src="Imagenes/Album4/Imagen1Album4.jpg" alt="Imagen principal del Album 4">
                        </div>
                        <div class="album-carousel">
                            <div class="carousel-images">
                                <img src="Imagenes/Album4/Imagen1Album4.jpg" alt="Imagen 1 del Album 4">
                                <img src="Imagenes/Album4/Imagen2Album4.jpg" alt="Imagen 2 del Album 4">
                            </div>
                            <button class="prev-btn">❮</button>
                            <button class="next-btn">❯</button>
                        </div>
                    </div>
                </div>

                <div class="album-card" id="Album5">
                    <div class="carousel-container">
                        <div class="card-default-view">
                            <img src="Imagenes/Album5/Imagen1Album5.jpg" alt="Imagen principal del Album 5">
                        </div>
                        <div class="album-carousel">
                            <div class="carousel-images">
                                <img src="Imagenes/Album5/Imagen1Album5.jpg" alt="Imagen 1 del Album 5">
                                <img src="Imagenes/Album5/Imagen2Album5.jpg" alt="Imagen 2 del Album 5">
                            </div>
                            <button class="prev-btn">❮</button>
                            <button class="next-btn">❯</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="div4">4</div>
            <div class="div5">5</div>
        </main>

    </div>
    <div id="lightbox" class="lightbox">
        <div class="lightbox-backdrop"></div>

        <div class="lightbox-content">
            <span class="lightbox-close">&times;</span>
            <img id="lightbox-image" src="" alt="Imagen ampliada">
        </div>
    </div>
    <script>
        function initializeCarousel(albumId) {
            const albumCard = document.getElementById(albumId);
            if (!albumCard) return;

            const carouselImages = albumCard.querySelector('.carousel-images');
            // Asegúrate de que este selector sea correcto para tus imágenes
            const images = carouselImages.querySelectorAll('img');
            const prevBtn = albumCard.querySelector('.prev-btn');
            const nextBtn = albumCard.querySelector('.next-btn');

            let currentIndex = 0;
            const totalImages = images.length;

            // Función para actualizar la posición del carrusel
            function updateCarousel() {
                const offset = -currentIndex * 100;
                carouselImages.style.transform = `translateX(${offset}%)`;
            }

            // Botón Siguiente
            nextBtn.addEventListener('click', (e) => {
                // Detener la propagación para evitar que el hover se active/desactive
                e.stopPropagation();
                currentIndex = (currentIndex + 1) % totalImages;
                updateCarousel();
            });

            // Botón Anterior
            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currentIndex = (currentIndex - 1 + totalImages) % totalImages;
                updateCarousel();
            });

            // Opcional: Deslizamiento automático al hacer hover
            let slideInterval;

            albumCard.addEventListener('mouseenter', () => {
                // Resetea al principio al entrar y detiene cualquier intervalo anterior
                clearInterval(slideInterval);
                currentIndex = 0;
                updateCarousel();

                // Solo inicia el carrusel automático si hay más de una imagen
                if (totalImages > 1) {
                    slideInterval = setInterval(() => {
                        currentIndex = (currentIndex + 1) % totalImages;
                        updateCarousel();
                    }, 2000);
                }
            });

            albumCard.addEventListener('mouseleave', () => {
                clearInterval(slideInterval); // Detiene el deslizamiento al salir
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            // --- CÓDIGO DE ANIMACIÓN DE INTRO ---
            const introLogoAnimated = document.querySelector('#intro-overlay .logo-card');
            const introLogoDestination = document.getElementById('intro-logo');
            const introOverlay = document.getElementById('intro-overlay');
            const pageContent = document.getElementById('page-content');

            window.requestAnimationFrame(() => {
                const targetRect = introLogoDestination.getBoundingClientRect();
                const animatedRect = introLogoAnimated.getBoundingClientRect();
                const dx = targetRect.left - animatedRect.left;
                const dy = targetRect.top - animatedRect.top;

                introLogoAnimated.style.setProperty('--dx', `${dx}px`);
                introLogoAnimated.style.setProperty('--dy', `${dy}px`);
                introLogoAnimated.style.animation = 'logo-intro-animation 2.5s forwards';

                setTimeout(() => {
                    pageContent.classList.remove('page-blurred');
                    introLogoDestination.style.visibility = 'visible';
                    introLogoDestination.style.opacity = '1';
                    introOverlay.style.opacity = '0';
                }, 2000);

                setTimeout(() => {
                    introOverlay.style.display = 'none';
                }, 2500);
            });

            // 🚀 LÍNEA CRÍTICA: Activar el carrusel del Album1
            // ... DENTRO de document.addEventListener('DOMContentLoaded', () => { ...

            // 🚀 LÍNEAS CRÍTICAS: Activar los carruseles de TODOS los álbumes
            initializeCarousel('Album1');
            initializeCarousel('Album2');
            initializeCarousel('Album3');
            initializeCarousel('Album4');
            initializeCarousel('Album5');

            // --- LÓGICA DEL LIGHTBOX ---
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const closeBtn = document.querySelector('.lightbox-close');
            const allImages = document.querySelectorAll('.album-card img');

            // 1. Abrir el Lightbox
            allImages.forEach(img => {
                img.addEventListener('click', (e) => {
                    // Detenemos la propagación para evitar conflictos con el carrusel
                    e.stopPropagation();

                    const src = e.target.getAttribute('src');

                    // Establecer la imagen y mostrar el lightbox
                    lightboxImage.setAttribute('src', src);
                    lightbox.classList.add('active');
                });
            });

            // 2. Cerrar el Lightbox con el botón X
            closeBtn.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            // 3. Cerrar el Lightbox haciendo clic en el fondo borroso
            const backdrop = document.querySelector('.lightbox-backdrop');
            backdrop.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            // 4. Cerrar el Lightbox con la tecla ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                    lightbox.classList.remove('active');
                }
            });

        });
    </script>
</body>

</html>